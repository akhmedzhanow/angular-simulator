@if (isLoading) {
    <div id="page-loader" class="page-loader" aria-label="Загрузка страницы">
        <div class="page-loader__inner">
            <img class="page-loader__icon" src="/loading-icon.svg" alt="loading-icon" width="50" height="50">
            <span class="page-loader__text">Загрузка...</span>
        </div>
    </div>
} @else {
    <div class="page">
        <header class="header">
            <div class="container header__inner">
                <div class="logo">
                    <img class="logo__icon" src="/logo-rumtibet.svg" alt="logo-rumtibet">
                    <span class="logo__text">{{ companyName }}</span>
                </div>
                <div class="header__actions">
                    <nav class="nav" aria-label="Навигация">
                        <ul class="nav__list">
                            <li class="nav__item">
                                <a id="nav-home-link" class="nav__link" href="#">Главная</a>
                            </li>
                            <li class="nav__item">
                                <a id="nav-about-guide-link" class="nav__link" href="#">Про гида</a>
                            </li>
                            <li class="nav__item">
                             <a id="nav-tour-program-link" class="nav__link" href="#">Программа тура</a>
                            </li>
                            <li class="nav__item">
                                <a id="nav-price-link" class="nav__link" href="#">Стоимость</a>
                            </li>
                            <li class="nav__item">
                             <a id="nav-blog-link" class="nav__link" href="#">Блог</a>
                            </li>
                            <li class="nav__item">
                                <a id="nav-contacts-link" class="nav__link" href="#">Контакты</a>
                            </li>
                        </ul>
                    </nav>
                    <div class="header__cta">
                        <button id="header-consultation-button" class="btn" type="button">Консультация</button>
                        <div class="header__switch">
                            <button id="header-widget-toggle-button" class="btn btn--ghost" type="button" (click)="toggleHeaderWidget()">{{ isClockVisible ? 'Показать кликер' : 'Показать время' }}</button>
                            @if (isClockVisible) {
                                <div id="header-live-clock" class="header__clock" aria-label="Текущая дата и время">{{ currentDateTime }}</div>
                            } @else {
                                <div id="header-click-counter" class="header__counter" aria-label="Счетчик кликов">
                                    <button id="header-click-decrease-button" class="counter__btn" type="button" (click)="decreaseCounter()" [disabled]="counter === 0" aria-label="Уменьшить">−</button>
                                    <span id="header-click-count-value" class="counter__value" aria-label="Текущее значение">{{ counter }}</span>
                                    <button id="header-click-increase-button" class="counter__btn" type="button" (click)="increaseCounter()" aria-label="Увеличить">+</button>
                                </div>
                            }
                        </div>
                    </div>
                </div>
         </div>
        </header>
        <main id="main">
            <section class="hero">
             <div class="container hero__inner">
                    <h1 class="hero__tittle">Насладись прогулкой в горах <br> с командой единомышленников</h1>
                    <form id="tour-search-form" class="search" #searchForm="ngForm" (ngSubmit)="onSearch()" action="#">
                        <div class="search__grid">
                            <label class="field">
                                <div class="field__control">
                                 <select id="tour-location-select" class="field__input field__select" name="location" required [(ngModel)]="selectedLocation">
                                        <option value="" disabled>Локация для тура</option>
                                        <option value="altai">Алтай</option>
                                        <option value="caucasus">Кавказ</option>
                                        <option value="baikal">Байкал</option>
                                    </select>
                                    <img class="field__icon" src="/arrow-down.svg" alt="">
                                </div>
                                <span class="field__hint">выберите из списка</span>
                            </label>
                            <label class="field">
                                <div class="field__control">
                                    <input id="tour-date-input" class="field__input" type="date" name="date" required [(ngModel)]="selectedDate">
                                    <img class="field__icon" src="/formkit-date.svg" alt="">
                                </div>
                                <span class="field__hint">укажите диапазон</span>
                            </label>
                            <label class="field">
                                <div class="field__control">
                                    <select id="tour-people-select" class="field__input field__select" name="people" required [(ngModel)]="selectedPeopleCount">
                                        <option value="" disabled>Участники</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8+</option>
                                    </select>
                                    <img class="field__icon" src="/arrow-down.svg" alt="">
                                </div>
                                <span class="field__hint">выберите из списка</span>
                            </label>
                            <div class="search__submit">
                                <button id="tour-search-submit-button" class="btn btn--light" type="submit" [disabled]="searchForm.invalid">Найти программу</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="live">
                    <label class="live__field">
                        <input
                            id="live-text-input"
                            class="live__input"
                            type="text"
                            placeholder="Пиши сюда…"
                            [ngModel]="liveInputValue" (ngModelChange)="liveInputValue = $event" name="liveInputValue"
                        />
                    </label>
                    <span id="live-text-value" class="live__value" aria-label="Введённый текст">{{ liveInputValue }}</span>
                </div>
            </section>
            <section class="tour-about">
                <div class="tour-about__container">
                    <div class="tour-about__media">
                        <img
                            class="tour-about__preview tour-about__preview--back"
                            src="/mountains-peaks.png"
                            alt="Превью видео: горные пики в облаках"
                            width="350"
                            height="400"
                        >
                        <img
                            class="tour-about__preview tour-about__preview--front"
                            src="/mountain-valley.png"
                            alt="Превью видео: горная долина и домик"
                            width="350"
                            height="400"
                        >
                        <button class="tour-about__play" type="button" aria-label="Смотреть видео">
                            <img src="/play-icon.svg" alt="play-icon" width="50" height="50">
                        </button>
                    </div>
                    <div class="tour-about__content">
                        <span class="tour-about__eyebrow">о нашем походе</span>
                        <h2 class="tour-about__title">Исследуйте все горные массивы мира вместе с нами</h2>
                        <p class="tour-about__text">Его корни уходят в один фрагмент классической латыни 45 года н.э., 
                            то есть более двух тысячелетий назад. Ричард МакКлинток, профессор латыни из колледжа Hampden-Sydney, 
                            штат Вирджиния, взял одно из самых странных слов в Lorem Ipsum, "consectetur"и занялся его поисками 
                            в классической латинской литературе.</p>
                        <button class="tour-about__button" type="button">Программа тура</button>
                    </div>
                </div>
            </section>
            <section class="offer">
                <div class="offer__container">
                    <div class="offer__content">
                        <span class="offer__eyebrow">наше предложение</span>
                        <h2 class="offer__title">Лучшие программы для тебя</h2>
    
                        <p class="offer__text">Его корни уходят в один фрагмент классической латыни 45 года н.э., 
                            то есть более двух тысячелетий назад. Ричард МакКлинток, профессор латыни из колледжа.</p>
                        <ul class="offer__list">
                            @for (offer of offers; track offer.id) {
                                <li class="offer__item">
                                    <div class="offer__icon" [class]="'offer__icon--' + offer.iconModifier">
                                        <img [src]="offer.icon + '.svg'" [alt]="offer.icon" width="36" height="36">
                                    </div>
    
                                    <div class="offer__item-body">
                                        <h3 class="offer__item-title">{{ offer.title }}</h3>
                                        <p class="offer__item-text">{{ offer.text }}</p>
                                    </div>
                                </li>
                            }
                        </ul>
                        <button class="offer__button" type="button">Стоимость программ</button>
                    </div>
                    <div class="offer__gallery">
                        <img class="offer__photo offer__photo--tl" src="/hand-with-coffee.png" alt="hand-with-coffee">
                        <img class="offer__photo offer__photo--tr" src="/man.png" alt="man">
                        <img class="offer__photo offer__photo--bl" src="/man-and-snowmobile.png" alt="man-and-snowmobile">
                        <img class="offer__photo offer__photo--br" src="/mountainous-terrain.png" alt="mountainous-terrain">
                    </div>
                </div>
            </section>
        </main>
    </div>
}
